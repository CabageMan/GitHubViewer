# QUERIES

# Get Own User
query OwnUser {
    viewer {
        ...UserFragment
    }
}

# Get User Repositories
query UserRepositories($userLogin: String!, $numberOfRepositories: Int!, $cursor: String, $order: RepositoryOrder) {
    user(login: $userLogin) {
        repositories(first: $numberOfRepositories after: $cursor orderBy: $order) {
            edges {
                node {
                    ...RepositoriesListFragment
                }
            }
            totalCount
            pageInfo {
                endCursor
                hasNextPage
            }
        }
    }
}

# Get Repository Details
query RepositoryDetails($ownerLogin: String!, $repositoryName: String!) {
    repository(owner: $ownerLogin name: $repositoryName) {
        ...RepositoryDetailsFragment
    }
}

# Find Repository
query FindRepository($ownerLogin: String!, $repositoryName: String!) {
    repository(owner: $ownerLogin name: $repositoryName) {
        ...RepositoriesListFragment
    }
}

# Get User Pull Requests
query UserPullRequests($userLogin: String!, $numberOfRequests: Int!, $cursor: String, $order: IssueOrder) {
    user(login: $userLogin) {
        pullRequests(first: $numberOfRequests after: $cursor orderBy: $order) {
            edges {
                node {
                    ...PullRequestsListFragment
                }
            }
            totalCount
            pageInfo {
                endCursor
                hasNextPage
            }
        }
    }
}

# Get User Issues
query UserIssues($userLogin: String!, $numberOfIssues: Int!, $cursor: String, $order: IssueOrder) {
    user(login: $userLogin) {
        issues(first: $numberOfIssues after: $cursor orderBy: $order) {
            edges {
                node {
                    ...IssuesListFragment
                }
            }
            totalCount
            pageInfo {
                endCursor
                hasNextPage
            }
        }
    }
}

# Get User Profile Pinned Items (Rpositories, Gists)
query ProfilePinnedItems($userLogin: String!, $numberOfItems: Int!, $pinnedTypes: [PinnableItemType!]) {
    user(login: $userLogin) {
        pinnedItems(first: $numberOfItems types: $pinnedTypes) {
            edges {
                node {
                    __typename
                    ... on Repository {
                        ...RepositoriesListFragment
                    }
                    ... on Gist {
                        ...GistsListFragment
                    }
                }
            }
            totalCount
            pageInfo {
                endCursor
                hasNextPage
            }
        }
    }
}


query Contributions($userLogin: String!, $numberOfRepositories: Int, $repoOrder: CommitContributionOrder, $from: DateTime, $to: DateTime) {
    user(login: $userLogin) {
        contributionsCollection(from: $from, to: $to) {
              totalCommitContributions
              contributionYears
              contributionCalendar {
            totalContributions
            months {
              name
            }
          }
              commitContributionsByRepository(maxRepositories: 5) {
                contributions(first: $numberOfRepositories, orderBy: $repoOrder) {
                  edges {
                node {
                  commitCount
                  occurredAt
                  repository {
                    name
                  }
                }
              }
                }
                repository {
              name
            }
              }
            }
    }
}
